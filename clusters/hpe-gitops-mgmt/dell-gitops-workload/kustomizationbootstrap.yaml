apiVersion: source.toolkit.fluxcd.io/v1
kind: GitRepository
metadata:
  name: git-components
  namespace: flux-system
spec:
  interval: 5m0s
  url: https://github.com/awseksa/cluster-components
  ref:
    branch: main
  secretRef:
    name: github
---
apiVersion: kustomize.toolkit.fluxcd.io/v1
kind: Kustomization
metadata:
  name: deploy-application
  namespace: eksa-system
spec:
  interval: 5m
  path: "./components/clusters/dell-gitops-workload/"
  prune: true
  sourceRef:
    kind: GitRepository
    name: git-components
    namespace: flux-system
  decryption:
    provider: sops
    secretRef:
      name: sops-gpg
  kubeConfig:
    secretRef:
      name: dell-gitops-workload-kubeconfig
---
apiVersion: v1
kind: Secret
metadata:
    name: github
    namespace: flux-system
type: Opaque
stringData:
    username: ENC[AES256_GCM,data:o5++Bb91WA==,iv:tyOTL+tpkmq4It7f5C+PtlCOX/7fych69i9TtuBOnss=,tag:FuqBECPU4i/GMh3d1iLxMw==,type:str]
    password: ENC[AES256_GCM,data:ngK91/QVB+wnHXWrYfaNsTcepvqzH9+kniKQLtbSZJXVHZeiJnaoXA==,iv:K7DcH/thgnKgIXZex+URSxqxaRs0q+jV1QGfLNIA/nI=,tag:Z5g22X7Clvk65vFiN2kwRQ==,type:str]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age: []
    lastmodified: "2024-11-18T06:40:53Z"
    mac: ENC[AES256_GCM,data:n5dwrIfUjxq/Bc5lFJ0DD8usRHT1joAOfEyiEdxQCN+HXPRxpEwvAaq7i0ssO3ubTDRDRXReUlGYFXmDNsGadxk/uRg+m8pBnRKqcBU30Zks/jay4dsiGd7SozH2iGdrDRLuFEEykfYSu/1Cc0fXqDkSG9v0sMfe4GPPiwltAp0=,iv:l9qlkUYV0JB8TAeC5+DQMlpguEIzCdYh5YcnbesR0AE=,tag:eVXobCeU/ciWZ+I9f7/+qQ==,type:str]
    pgp:
        - created_at: "2024-11-18T06:40:53Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMAw9uClCp5jyCAQ//c2Uoipsi6aq/TFLwOxCVL5CFMruMZ6T0luEyJSKnOevC
            loT3OQkOcUVwH9s6bJ7WxHQDTZCpP7bI+4SebMkJTx2cGQ+I2xRON73jzozKj/P/
            uWFu913PyMz0e3ECRBP62RZOlSMBRtizUzEcUacjrQqrOJW1/8VZFonEi0EVdKX9
            VRpE4YYazWkY5ma8Wlv/6JChvNFP0ZDjIXp3VUqgTZqtpBQlQORg/DNOyTtkmiIW
            TULEea7xTKT/pCTL2oHrif+gbwc3nYjP37aLzrAbmC+S4r1pDz6fmIZtghJ16zTg
            hDfFpF2ZNEPszKtiQA0zO6r2Ts8FNWObqS71sCCEAqidce9kLMmSlNgPUZpGfWhb
            YPG5pN37g1FFVR0n0cDrpVpOqYTQANtMRCgL3NOPZB8deME1WWnu2HLdMYzuM9n7
            z8TW4Oxe6UAlY5yDopMxgTbyx+rzb/sKzlyvXTJqGfRkP0qUF8w6ebeXk8aw4Yrs
            dTso+pqIPz9qmw4BHds+EysBBBkxITBs2JGNRnVXpvbopOtnowFD+jKB9mmN5xcA
            +EWsBlQWT1F54xQp24ubX5Ui3pOmFlhwH348tpDwLU8AdueWxJ5gmWeOztwUj0u9
            CoDgYshYa3VMZaM93cIKe1sNgoZUfXq0kA+7qtAhUMyrIbVkVws4k37aFiWec3DS
            XgHhc/m+nlBJOKy/AeFEOEYGYndFOBDqMicudyN0qux5oGcr9R9hJqOE4wQVkFdD
            iyr/rMLMcZjrje1L3SvimBeVVoVUtJCE8VzoDigYZ4C83slg2T4+CcQNAng8uME=
            =NQdE
            -----END PGP MESSAGE-----
          fp: A96F159548F6F5A2A3663C6055DFBD651E0E85AD
    encrypted_regex: ^(data|stringData)$
    version: 3.9.1
